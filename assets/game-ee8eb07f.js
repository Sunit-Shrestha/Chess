(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function e(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=e(r);fetch(r.href,i)}})();function k(t,n){c();let e=[],s=Number(n);t=="w"?(o(s-10)&&(e.push(s-10),n[0]==6&&o(s-20)&&e.push(s-20)),!o(s-11)&&f(s-11,t)&&e.push(s-11),!o(s-9)&&f(s-9,t)&&e.push(s-9)):(o(s+10)&&(e.push(s+10),n[0]==1&&o(s+20)&&e.push(s+20)),!o(s+11)&&f(s+11,t)&&e.push(s+11),!o(s+9)&&f(s+9,t)&&e.push(s+9)),d(e,s)}function v(t,n){c();let e=[],s=[-8,-12,-19,-21,8,12,19,21],r=Number(n);for(let i=0;i<s.length;i++){let l=r+s[i];(o(l)||f(l,t))&&e.push(l)}d(e,r)}function E(t,n){c();let e=[],s=[-9,-11,9,11],r=Number(n);for(let i=0;i<s.length;i++){let l=r;for(;;)if(l=l+s[i],o(l))e.push(l);else if(f(l,t)){e.push(l);break}else break}d(e,r)}function P(t,n){c();let e=[],s=[-1,-10,1,10],r=Number(n);for(let i=0;i<s.length;i++){let l=r;for(;;)if(l=l+s[i],o(l))e.push(l);else if(f(l,t)){e.push(l);break}else break}d(e,r)}function w(t,n){c();let e=[],s=[-1,-9,-10,-11,1,9,10,11],r=Number(n);for(let i=0;i<s.length;i++){let l=r;for(;;)if(l=l+s[i],o(l))e.push(l);else if(f(l,t)){e.push(l);break}else break}d(e,r)}function I(t,n){c();let e=[],s=[-1,-9,-10,-11,1,9,10,11],r=Number(n);for(let i=0;i<s.length;i++){let l=r+s[i];(f(l,t)||o(l))&&!N(l,t)&&e.push(l)}d(e,r)}const B=Object.freeze(Object.defineProperty({__proto__:null,b:E,k:I,n:v,p:k,q:w,r:P},Symbol.toStringTag,{value:"Module"}));let j={w:"74",k:"4"};function L(t){let n=t.currentTarget,e=document.getElementById(n.hintFor).classList[1];x(n.hintFor,e),h(n.id,e),c();let s=e[0]=="w"?"b":"w";y(s),e[1]=="k"&&(j[t.currentTarget.classList[1][0]]=t.currentTarget.id)}function d(t,n){for(let e=0;e<t.length;e++){let s=document.getElementById(t[e]);s.classList.add("hint"),s.hintFor=n,s.addEventListener("click",L)}}function c(){for(let t=0;t<8;t++)for(let n=0;n<8;n++){let e=document.getElementById(t*10+n);e.hintFor="",e.classList.remove("hint"),e.removeEventListener("click",L)}}function m(t){let n=t.currentTarget;B[n.classList[1][1]](n.classList[1][0],n.id)}function h(t,n){let e=document.getElementById(t);e.classList.value=["box"],e.classList.add(n)}function x(t,n){document.getElementById(t).classList.remove(n)}function y(t){for(let n=0;n<8;n++)for(let e=0;e<8;e++){let s=document.getElementById(n*10+e);s.classList.length>1&&s.classList[1][0]==t?s.addEventListener("click",m):s.removeEventListener("click",m)}}function o(t){let n=document.getElementById(t);return!(n==null||n.classList.length>1)}function p(t,n){let e=document.getElementById(t);return e==null||e.classList.length==1?!1:e.classList[1][0]==n}function f(t,n){let e=document.getElementById(t);return e==null||e.classList.length==1?!1:e.classList[1][0]!=n}function b(t){return document.getElementById(t)==null}function a(t,n){let e=document.getElementById(t);return e==null?!1:e.classList.length>1&&e.classList[1][1]==n}function N(t,n){let e=[],s=[-9,-11,9,11],r=[-1,-10,1,10],i=[-8,-12,-19,-21,8,12,19,21];for(let l=0;l<s.length;l++){let u=t;for(;u=u+s[l],!(b(u)||p(u,n));)if(f(u,n)){if(a(u,"b")||a(u,"q"))return!0;break}}for(let l=0;l<r.length;l++){let u=t;for(;u=u+r[l],!(b(u)||p(u,n));)if(f(u,n)){if(a(u,"r")||a(u,"q"))return!0;break}}for(let l=0;l<i.length;l++){let u=t+i[l];if(a(u,"n")&&f(u,n))return!0}n=="w"?e.push(t-9,t-11):e.push(t+9,t+11);for(let l of e)if(f(l,n)&&a(l,"p"))return!0;return!1}const g=["r","n","b","q","k","b","n","r"],O=document.querySelector("#board");for(let t=0;t<8;t++)for(let n=0;n<8;n++){let e=t*10+n,s=document.createElement("div");s.id=e,s.className="box",s.piece="",O.append(s)}for(let t=0;t<8;t++)h(t,`b${g[t]}`),h(10+t,"bp"),h(70+t,`w${g[t]}`),h(60+t,"wp");y("w");
